<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8">
	<link rel="stylesheet"      title="landing" >
  <style>
table {
    /* border-collapse: collapse; */
    width: 100%;
}

th, td {
    text-align: left;
    padding-left: 8px;
}

tr:nth-child(odd){background-color:#CE569C;}
tr:nth-child(even){background-color:#EAD4E1;}
th {background-color:#FFA07A;}


.rod1 *  { 
padding-left: 20px;
background-color: #FFB86B; 
}
.rod2 * { 
padding-left: 20px;
background-color: #EFD03E ; 
}
tr[id$="plus"] * { 
padding-left: 20px;
background-color: #DB7B12  ; 
}
</style>
  <script src="js/main.js"></script>
<script src="js/templates.js">
</script>
</head>
<body >
<header>
</header>

<div id="content">
</div>

<script>

var myobj1 = {
  "squadName": "Super hero squad",
  "homeTown": "Metro City",
  "formed": 2016,
  "secretBase": "Super tower",
  "active": true,
  "members": [
    {
      "name": "Molecule Man",
      "age": 29,
      "secretIdentity": "Dan Jukes",
      "powers": [
        "Radiation resistance",
        "Turning tiny",
        "Radiation blast"
      ]
    },
    {
      "name": "Madame Uppercut",
      "age": 39,
      "secretIdentity": "Jane Wilson",
      "powers": [
        "Million tonne punch",
        "Damage resistance",
        "Superhuman reflexes"
      ]
    },
    {
      "name": "Eternal Flame",
      "age": 1000000,
      "secretIdentity": "Unknown",
      "powers": [
        "Immortality",
        "Heat Immunity",
        "Inferno",
        "Teleportation",
        "Interdimensional travel"
      ]
    }
  ]
};


var myObj2= {"Title":"Terminator 2: Judgment Day","Year":"1991","Rated":"R","Released":"03 Jul 1991","Runtime":"137 min",
	     "Genre":"Action, Sci-Fi, Thriller","Director":"James Cameron","Writer":"James Cameron, William Wisher",
	     "Actors":"Arnold Schwarzenegger, Linda Hamilton, Edward Furlong, Robert Patrick","Plot":"A cyborg, identical to 
	     the one who failed to kill Sarah Connor, must now protect her ten year old son, John Connor, from a more advanced cyborg.",
	     "Language":"English, Spanish","Country":"USA, France","Awards":"Won 4 Oscars. Another 23 wins & 26 nominations.",
	     "Poster":"https://images-na.ssl-images-amazon.com/images/
	     M/MV5BMGU2NzRmZjUtOGUxYS00ZjdjLWEwZWItY2NlM2JhNjkxNTFmXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg",
	     "Ratings":[{"Source":"Internet Movie Database","Value":"8.5/10"},{"Source":"Rotten Tomatoes","Value":"93%"},
    	     {"Source":"Metacritic","Value":"75/100"}],"Metascore":"75","imdbRating":"8.5","imdbVotes":"813,949","imdbID":"tt0103064",
	    "Type":"movie","DVD":"31 Mar 1998","BoxOffice":"$198,116,802","Production":"TriStar Pictures","Website":"N/A",
	    "Response":"True"};


var myObj3= {
  "name": "jsonlintdotcom",
  "version": "0.0.1",
  "description": "The JSON Validator",
  "private": true,
  "scripts": {
    "test": "npm run lint",
    "build": "npm run clean && NODE_ENV=production webpack",
    "develop": "NODE_ENV=development webpack-dev-server --port 8106",
    "clean": "rimraf dist",
    "upgrade": "ncu --upgradeAll && npm install",
    "lint": "eslint . --ext .js --ignore-pattern '**/node_modules/**' --ignore-pattern '**/dist/**'",
    "deploy": "pm2 deploy ecosystem.json production --force",
    "stylelint": "stylelint static/css/style.css"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/circlecell/jsonlintdotcom.git"
  },
  "keywords": [
    "jsonlint",
    "lint",
    "json"
  ],
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/circlecell/jsonlintdotcom/issues"
  },
  "homepage": "https://github.com/circlecell/jsonlintdotcom#readme",
  "devDependencies": {
    "babel-cli": "^6.24.1",
    "babel-core": "^6.25.0",
    "babel-eslint": "^7.2.3",
    "babel-loader": "^7.1.1",
    "babel-polyfill": "^6.23.0",
    "babel-preset-es2015": "^6.24.1",
    "babel-preset-stage-1": "^6.24.1",
    "babel-register": "^6.24.1",
    "babili-webpack-plugin": "^0.1.2",
    "copy-webpack-plugin": "^4.0.1",
    "css-loader": "^0.28.4",
    "eslint": "^4.4.0",
    "eslint-config-airbnb": "^15.1.0",
    "eslint-config-airbnb-base": "^11.3.1",
    "eslint-plugin-import": "^2.7.0",
    "exports-loader": "^0.6.4",
    "extract-text-webpack-plugin": "^3.0.0",
    "html-webpack-plugin": "^2.30.1",
    "napa": "^3.0.0",
    "npm": "^5.3.0",
    "npm-check-updates": "^2.12.1",
    "open-browser-webpack-plugin": "0.0.5",
    "optimist": "^0.6.1",
    "rimraf": "^2.6.1",
    "script-loader": "^0.7.0",
    "string-replace-loader": "^1.3.0",
    "style-loader": "^0.18.2",
    "stylelint": "^8.0.0",
    "stylelint-config-standard": "^17.0.0",
    "uglifyjs-webpack-plugin": "^0.4.6",
    "webpack": "^3.4.1",
    "webpack-dev-server": "^2.6.1"
  },
  "dependencies": {
    "balajs": "^1.0.6",
    "clipboard": "^1.7.1",
    "codemirror": "^5.28.0",
    "js-beautify": "^1.6.14",
    "jsonlint-mod": "^1.7.2",
    "jsonminify": "^0.4.1"
  }
};
//make a table, give id
function createTabelle(idname) {
   
    let body = document.getElementById("content");
    
    let tbl = document.createElement("TABLE");
    tbl.setAttribute("id", idname);
    
    body.appendChild(tbl);  
    }
 //TableHeader   
 function createTableHeader(tableidname,classvalue="head",value1="criterium",value2="values") {    
    // Tablerow with two tableheads, each with textnodes
	var taro = document.createElement("TR");
    taro.setAttribute("class", classvalue);
    var th1 = document.createElement("TH");
    var th2 = document.createElement("TH");
    var key = document.createTextNode(value1);
    var value = document.createTextNode(value2);
    th1.appendChild(key);
    th2.appendChild(value);
    taro.appendChild(th1);
    taro.appendChild(th2);
    
    document.getElementById(tableidname).appendChild(taro);
    var tblBody = document.createElement("tbody");
    tblBody.setAttribute("id","tablebody");
    document.getElementById(tableidname).appendChild(tblBody);
    }                     
//one tablerow with two tabledata td                    
function createTableRowCell(bodyname,idvalue,value1="oneempty",value2="twoempty") {    
    //First, create elements from the top down; then attach the children to the parents from the bottom up.
     
     if (!!bodyname) { 
        var taro = document.createElement("TR"); //tablerow
        taro.setAttribute("id", idvalue);
        var tada1 = document.createElement("TD"); //tabledata
        var tada2 = document.createElement("TD");
		
        var key = document.createTextNode(value1); //text
        if (value2 == "empty") {value2 = " "};
		var value = document.createTextNode(value2);
		tada1.appendChild(key);
        tada2.appendChild(value);
		taro.appendChild(tada1);
        taro.appendChild(tada2);
		document.getElementById(bodyname).appendChild(taro);
        return taro;
                               }
        else{console.log("no table, no tablebody");}
}
//reads JSON Objekt recursively, in case there is an object in the object
function traverse_buildTable(obj,counter=0){
var underObjCounter = counter;
for (var x in obj) {
    
    if(typeof obj[x]=='object' )
        {
            
			var size = Object.keys(obj[x]).length;
			underObjCounter++
			if (isNaN(x) == true){  //if x is no number or index: it is the key to an object
              
			  var tabro= createTableRowCell("tablebody",x + "plus",x + ":","empty");
               tabro.setAttribute("class", "rod" + underObjCounter);
								 }
			  traverse_buildTable(obj[x],underObjCounter);
			  underObjCounter--;
        }else{
              var tabo = createTableRowCell("tablebody",x,x + ":",obj[x] );
              if (underObjCounter > 0){
					tabo.setAttribute("class", "rod" + underObjCounter); 
									}
         }
}
//keep nested objekts under control
underObjCounter--;
}
//in three lines:
createTabelle("mytabl");
createTableHeader("mytabl","movie","criteria","details");
traverse_buildTable(myObj2);

</script>
</body>
</html>
